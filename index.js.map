{"version":3,"file":"index.js","sources":["../src/js/toast-helper.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/loader-helper.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\niziToast.settings({\n  messageSize: '16px',\n  messageLineHeight: '24px',\n  position: 'topRight',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n});\n\nexport function showWarning() {\n  iziToast.show({\n    message: 'Please enter a value.',\n    backgroundColor: '#f2ff00',\n    messageColor: '#2e2f42',\n  });\n}\n\nexport function showError() {\n  iziToast.show({\n    message:\n      'Sorry, there are no images matching your search query. Please, try again!',\n    messageColor: '#FFF',\n    backgroundColor: '#EF4040',\n    iconUrl: '../img/iconalert.svg',\n    maxWidth: '350',\n    imageWidth: '24',\n  });\n}\n","import { showError } from './toast-helper.js';\n\nconst API_CONFIG = {\n  BASE_URL: 'https://pixabay.com/api/',\n  API_KEY: '47339247-cdcac9f8981a2af5215025f92',\n};\n\nexport function serviceWeather(query) {\n  const { BASE_URL, API_KEY } = API_CONFIG;\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      showError();\n      throw new Error('Error fetching api');\n    }\n\n    return response.json();\n  });\n}\n","export function createMarkup(items) {\n  return items\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n  <div class=\"photo__card\">\n    <a class=\"gallery__link\" \n    href=\"${largeImageURL}\"\n  >\n  <img\n    src=\"${webformatURL}\"\n    alt=\"${tags}\"\n    loading=\"lazy\"\n    class=\"webformat__img\"\n  />\n  </a>\n        <ul class=\"info\">\n          ${createInfoItem('Likes', likes)}\n          ${createInfoItem('Views', views)}\n          ${createInfoItem('Comments', comments)}\n          ${createInfoItem('Downloads', downloads)}\n        </ul>\n</div> \n`\n    )\n    .join('');\n}\n\nfunction createInfoItem(label, value) {\n  return `\n    <li class=\"list__info\">\n      <h3>${label}</h3>\n      <p>${value}</p>\n    </li>\n  `;\n}\n","export const loader = document.querySelector('#loader');\n\nexport function showLoader() {\n  loader.classList.remove('hidden__css');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden__css');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { serviceWeather } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\nimport { showWarning, showError } from './js/toast-helper.js';\nimport { showLoader, hideLoader } from './js/loader-helper.js';\n\nconst formSearch = document.querySelector('#myForm');\nconst gallery = document.querySelector('#gallery');\n\nlet lightbox = new SimpleLightbox('.gallery__link', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nformSearch.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  gallery.innerHTML = '';\n\n  const input = event.target.elements.data_input;\n  const trimmedInput = input.value.trim();\n\n  if (trimmedInput.length === 0) {\n    showWarning();\n    return;\n  }\n\n  showLoader();\n\n  serviceWeather(trimmedInput)\n    .then(data => {\n      renderGallery(data.hits);\n      if (data.hits.length === 0) {\n        showError();\n        throw new Error('Invalid input');\n      }\n    })\n    .catch(error => error.message)\n    .finally(() => {\n      event.target.reset();\n      hideLoader();\n    });\n}\n\nfunction renderGallery(items) {\n  gallery.innerHTML = createMarkup(items);\n  lightbox.refresh();\n}\n"],"names":["iziToast","showWarning","showError","API_CONFIG","serviceWeather","query","BASE_URL","API_KEY","params","response","createMarkup","items","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createInfoItem","label","value","loader","showLoader","hideLoader","formSearch","gallery","lightbox","SimpleLightbox","onFormSubmit","event","trimmedInput","data","renderGallery","error"],"mappings":"6vBAGAA,EAAS,SAAS,CAChB,YAAa,OACb,kBAAmB,OACnB,SAAU,WACV,aAAc,UACd,cAAe,UACjB,CAAC,EAEM,SAASC,GAAc,CAC5BD,EAAS,KAAK,CACZ,QAAS,wBACT,gBAAiB,UACjB,aAAc,SAClB,CAAG,CACH,CAEO,SAASE,GAAY,CAC1BF,EAAS,KAAK,CACZ,QACE,4EACF,aAAc,OACd,gBAAiB,UACjB,QAAS,uBACT,SAAU,MACV,WAAY,IAChB,CAAG,CACH,CC3BA,MAAMG,EAAa,CACjB,SAAU,2BACV,QAAS,oCACX,EAEO,SAASC,EAAeC,EAAO,CACpC,KAAM,CAAE,SAAAC,EAAU,QAAAC,CAAS,EAAGJ,EAExBK,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAAP,IACM,IAAI,MAAM,oBAAoB,EAGtC,OAAOO,EAAS,MACpB,CAAG,CACH,CC1BO,SAASC,EAAaC,EAAO,CAClC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA;AAAA,YAGAL,CAAa;AAAA;AAAA;AAAA,WAGdD,CAAY;AAAA,WACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMHK,EAAe,QAASJ,CAAK,CAAC;AAAA,YAC9BI,EAAe,QAASH,CAAK,CAAC;AAAA,YAC9BG,EAAe,WAAYF,CAAQ,CAAC;AAAA,YACpCE,EAAe,YAAaD,CAAS,CAAC;AAAA;AAAA;AAAA,CAI7C,EACA,KAAK,EAAE,CACZ,CAEA,SAASC,EAAeC,EAAOC,EAAO,CACpC,MAAO;AAAA;AAAA,YAEGD,CAAK;AAAA,WACNC,CAAK;AAAA;AAAA,GAGhB,CC1CO,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CAC3BD,EAAO,UAAU,OAAO,aAAa,CACvC,CAEO,SAASE,GAAa,CAC3BF,EAAO,UAAU,IAAI,aAAa,CACpC,CCDA,MAAMG,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAAW,IAAIC,EAAe,iBAAkB,CAClD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEDH,EAAW,iBAAiB,SAAUI,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpBJ,EAAQ,UAAY,GAGpB,MAAMK,EADQD,EAAM,OAAO,SAAS,WACT,MAAM,KAAI,EAErC,GAAIC,EAAa,SAAW,EAAG,CAC7B9B,IACA,MACD,CAEDsB,IAEAnB,EAAe2B,CAAY,EACxB,KAAKC,GAAQ,CAEZ,GADAC,EAAcD,EAAK,IAAI,EACnBA,EAAK,KAAK,SAAW,EACvB,MAAA9B,IACM,IAAI,MAAM,eAAe,CAEvC,CAAK,EACA,MAAMgC,GAASA,EAAM,OAAO,EAC5B,QAAQ,IAAM,CACbJ,EAAM,OAAO,QACbN,GACN,CAAK,CACL,CAEA,SAASS,EAActB,EAAO,CAC5Be,EAAQ,UAAYhB,EAAaC,CAAK,EACtCgB,EAAS,QAAO,CAClB"}
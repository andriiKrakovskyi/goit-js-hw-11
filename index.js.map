{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_CONFIG = {\n  BASE_URL: 'https://pixabay.com/api/',\n  API_KEY: '47339247-cdcac9f8981a2af5215025f92',\n};\n\nexport function serviceWeather(query) {\n  const { BASE_URL, API_KEY } = API_CONFIG;\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please, try again!',\n        messageColor: '#FFF',\n        messageSize: '16px',\n        messageLineHeight: '24px',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        iconUrl: '../img/iconalert.svg',\n        maxWidth: '350',\n        imageWidth: '24',\n        transitionIn: 'flipInX',\n      });\n      throw new Error('Error fetching api');\n    }\n    return response.json();\n  });\n}\n","export function createMarkup(items) {\n  return items\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n  <div class=\"photo__card\">\n    <a class=\"gallery__link\" \n    href=\"${largeImageURL}\"\n  >\n  <img\n    src=\"${webformatURL}\"\n    alt=\"${tags}\"\n    loading=\"lazy\"\n    class=\"webformat__img\"\n  />\n  </a>\n        <ul class=\"info\">\n          ${createInfoItem('Likes', likes)}\n          ${createInfoItem('Views', views)}\n          ${createInfoItem('Comments', comments)}\n          ${createInfoItem('Downloads', downloads)}\n        </ul>\n</div> \n`\n    )\n    .join('');\n}\n\nfunction createInfoItem(label, value) {\n  return `\n    <li class=\"list__info\">\n      <h3>${label}</h3>\n      <p>${value}</p>\n    </li>\n  `;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { serviceWeather } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst formSearch = document.querySelector('#myForm');\nconst gallery = document.querySelector('#gallery');\n\nconst loader = document.querySelector('#loader');\n\nconst showLoader = () => loader.classList.remove('hidden__css');\nconst hideLoader = () => loader.classList.add('hidden__css');\n\nlet lightbox;\n\nformSearch.addEventListener('submit', onFormSubmit);\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const input = event.target.elements.data_input;\n  const trimmedInput = input.value.trim();\n\n  if (trimmedInput.length === 0) {\n    iziToast.show({\n      message: 'Please enter a value.',\n      messageColor: '#2e2f42',\n      messageSize: '16px',\n      messageLineHeight: '24px',\n      backgroundColor: '#f2ff00',\n      position: 'topRight',\n      transitionIn: 'flipInX',\n    });\n    return;\n  }\n  showLoader();\n\n  serviceWeather(trimmedInput)\n    .then(data => {\n      gallery.innerHTML = createMarkup(data.hits);\n\n      if (lightbox) {\n        lightbox.refresh();\n      } else {\n        lightbox = new SimpleLightbox('.gallery__link', {\n          captionsData: 'alt',\n          captionPosition: 'bottom',\n          captionDelay: 250,\n        });\n      }\n    })\n    .catch(error => error.message)\n    .finally(() => {\n      event.target.reset();\n      hideLoader();\n    });\n}\n"],"names":["API_CONFIG","serviceWeather","query","BASE_URL","API_KEY","params","response","iziToast","createMarkup","items","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createInfoItem","label","value","formSearch","gallery","loader","showLoader","hideLoader","lightbox","onFormSubmit","event","trimmedInput","data","SimpleLightbox","error"],"mappings":"6vBAGA,MAAMA,EAAa,CACjB,SAAU,2BACV,QAAS,oCACX,EAEO,SAASC,EAAeC,EAAO,CACpC,KAAM,CAAE,SAAAC,EAAU,QAAAC,CAAS,EAAGJ,EAExBK,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAAC,EAAS,KAAK,CACZ,QACE,4EACF,aAAc,OACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,WACV,QAAS,uBACT,SAAU,MACV,WAAY,KACZ,aAAc,SACtB,CAAO,EACK,IAAI,MAAM,oBAAoB,EAEtC,OAAOD,EAAS,MACpB,CAAG,CACH,CCtCO,SAASE,EAAaC,EAAO,CAClC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA;AAAA,YAGAL,CAAa;AAAA;AAAA;AAAA,WAGdD,CAAY;AAAA,WACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMHK,EAAe,QAASJ,CAAK,CAAC;AAAA,YAC9BI,EAAe,QAASH,CAAK,CAAC;AAAA,YAC9BG,EAAe,WAAYF,CAAQ,CAAC;AAAA,YACpCE,EAAe,YAAaD,CAAS,CAAC;AAAA;AAAA;AAAA,CAI7C,EACA,KAAK,EAAE,CACZ,CAEA,SAASC,EAAeC,EAAOC,EAAO,CACpC,MAAO;AAAA;AAAA,YAEGD,CAAK;AAAA,WACNC,CAAK;AAAA;AAAA,GAGhB,CCnCA,MAAMC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAa,IAAMD,EAAO,UAAU,OAAO,aAAa,EACxDE,EAAa,IAAMF,EAAO,UAAU,IAAI,aAAa,EAE3D,IAAIG,EAEJL,EAAW,iBAAiB,SAAUM,CAAY,EAClD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EADQD,EAAM,OAAO,SAAS,WACT,MAAM,KAAI,EAErC,GAAIC,EAAa,SAAW,EAAG,CAC7BrB,EAAS,KAAK,CACZ,QAAS,wBACT,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,WACV,aAAc,SACpB,CAAK,EACD,MACD,CACDgB,IAEAtB,EAAe2B,CAAY,EACxB,KAAKC,GAAQ,CACZR,EAAQ,UAAYb,EAAaqB,EAAK,IAAI,EAEtCJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIK,EAAe,iBAAkB,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GACxB,CAAS,CAET,CAAK,EACA,MAAMC,GAASA,EAAM,OAAO,EAC5B,QAAQ,IAAM,CACbJ,EAAM,OAAO,QACbH,GACN,CAAK,CACL"}